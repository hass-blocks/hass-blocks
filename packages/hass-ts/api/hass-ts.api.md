## API Report File for "@hass-blocks/hass-ts"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

// @public
export type AutomationReloadedEvent = BaseEvent<'automation_reloaded'>;

// @public
export type AutomationTriggeredEvent = BaseEvent<'automation_triggered', {
    name: string;
    entity_id: string;
}>;

// @public
export interface BaseEvent<TType extends string, TData = never> {
    context: Context;
    data: TData;
    event_type: TType;
    origin: 'REMOTE' | 'LOCAL';
    time_fired: string;
}

// @public
export interface BooleanSelector {
    boolean: null;
}

// @public
export type CalendarDetails = {
    name: string;
    entity_id: string;
};

// @public
export interface CallServiceCommand<T = unknown> extends Command {
    domain: string;
    return_response?: boolean;
    service: string;
    service_data?: T;
    target?: {
        entity_id?: string | string[];
        area_id?: string | string[];
        device_id?: string | string[];
    };
    type: 'call_service';
}

// @public
export type CallServiceEvent = BaseEvent<'call_service', {
    domain: string;
    service: string;
    service_data: Record<string, unknown>;
    service_call_id: string;
}>;

// @public
export interface CallServiceResponse {
    context: {
        id: string;
        parent_id: null | string;
        user_id: string;
    };
    response: null | Record<string, unknown>;
}

// @public
export interface Command {
    id: number;
}

// @public
export type ComponentLoadedEvent = BaseEvent<'component_loaded', {
    component: string;
}>;

// @public
export interface Config {
    allowlist_external_dirs?: string[];
    allowlist_external_urls?: string[];
    components: string[];
    config_dir: string;
    config_source: string;
    country: string;
    currency?: string;
    elevation?: number;
    external_url?: string;
    internal_url: string;
    language: string;
    latitude?: number;
    location_name?: string;
    longitude?: number;
    recovery_mode: boolean;
    safe_mode: boolean;
    state: string;
    time_zone?: string;
    unit_system: {
        length: string;
        accumulated_precipitation: string;
        mass: string;
        pressure: string;
        temperature: string;
        volume: string;
        wind_speed: string;
    };
    version: string;
    whitelist_external_dirs?: string[];
}

// @public
export interface Context {
    id: string;
    parent_id: null;
    user_id: string;
}

// @public
export type CoreConfigUpdatedEvent = BaseEvent<'core_config_updated'>;

// @public
export type DataFlowProgressedEvent = BaseEvent<'data_flow_progressed', {
    handler: string;
    flow_id: string;
}>;

// @public
export interface DeviceSelector {
    device: DeviceTarget;
}

// @public
export interface DeviceTarget {
    filter: {
        integration: string;
    };
}

// @public
export interface EntitySelector {
    entity: EntityTarget;
}

// @public
export interface EntityTarget {
    domain: string | string[];
    integration: string;
    multiple: boolean;
    supported_feature: string[];
}

// @public
export interface EventDetails {
    event: string;
    listener_count: number;
}

// @public
export const getConfig: () => HassConfig;

// @public
export interface GetHistoryParams {
    filterEntityId: string[];
    minimalResponse?: boolean;
    noAttributes?: boolean;
    significantChangesOnly?: boolean;
    timestamp?: Date;
}

// @public
export interface GetLogbookParams {
    endTime?: Date;
    entity?: string;
    timestamp?: Date;
}

// @public
export interface HassArea {
    aliases: string[];
    area_id: string;
    created_at: number;
    floor_id: string | null;
    icon: string | null;
    labels: string[] | null;
    modified_at: number;
    name: string;
    picture: string | null;
}

// @public
export interface HassConfig {
    host: string;
    httpPath: string;
    logger?: Logger;
    port: number;
    token: string;
    websocketPath: string;
}

// @public
export interface HassDevice {
    area_id: string | null;
    config_entries: string[];
    configuration_url: string | null;
    connections: [connectionType: string, connectionIdentifier: string][];
    created_at: number;
    disabled_by: string | null;
    entry_type: 'service' | null;
    hw_version: string | null;
    id: string;
    identifiers: [domain: string, identifer: string][];
    labels: string[];
    manufacturer: string | null;
    model: string | null;
    model_id: string | null;
    modified_at: number;
    name: string;
    name_by_user: null | string;
    primary_config_entry: string | null;
    serial_number: string | null;
    sw_version: string | null;
    via_device_id: string | null;
}

// @public
export interface HassEntity {
    area_id: string | null;
    categories: Record<string, unknown>;
    config_entry_id: string | null;
    created_at: number;
    device_id: string | null;
    disabled_by: string | null;
    entity_category: 'config' | 'diagnostic' | null;
    entity_id: string;
    has_entity_name: boolean;
    hidden_by: string | null;
    icon: string | null;
    id: string;
    labels: string[];
    modified_at: number;
    name: string | null;
    options: Record<string, Record<string, unknown>>;
    original_name: string | null;
    platform: string;
    translation_key: string | null;
    unique_id: string;
}

// @public
export type HomeAssistantCloseEvent = BaseEvent<'homeassistant_close'>;

// @public
export type HomeAssistantEvent = CallServiceEvent | StateChangedEvent | ComponentLoadedEvent | CoreConfigUpdatedEvent | DataFlowProgressedEvent | HomeAssistantStartEvent | HomeAssistantStartedEvent | HomeAssistantStopEvent | HomeAssistantFinalWriteEvent | HomeAssistantCloseEvent | ServiceRemovedEvent | ServiceRegisteredEvent | LogbookEntryEvent | ThemesUpdatedEvent | UserAddedEvent | UserRemovedEvent | AutomationReloadedEvent | AutomationTriggeredEvent | SceneReloadedEvent | ScriptStartedEvent;

// @public
export type HomeAssistantFinalWriteEvent = BaseEvent<'homeassistant_final_write'>;

// @public
export type HomeAssistantStartedEvent = BaseEvent<'homeassistant_started'>;

// @public
export type HomeAssistantStartEvent = BaseEvent<'homeassistant_start'>;

// @public
export type HomeAssistantStopEvent = BaseEvent<'homeassistant_stop'>;

// @public
export interface IHomeAssistant {
    callService(params: Omit<CallServiceCommand, 'id' | 'type'>): Promise<State[]>;
    close(): Promise<void>;
    getAreas(): Promise<HassArea[]>;
    getCalendars(): Promise<CalendarDetails>;
    getConfig(): Promise<Config>;
    getDevices(): Promise<HassDevice[]>;
    getEntities(): Promise<HassEntity[]>;
    getErrorLog(): Promise<string>;
    getEvents(): Promise<EventDetails[]>;
    getHistory(params: GetHistoryParams): Promise<State[][]>;
    getLogbook(params?: GetLogbookParams): Promise<LogBookEntry[]>;
    getPanels(): Promise<Record<string, Panel>>;
    getServiceDomains(): Promise<ServiceDomainDetails[]>;
    getServices(): Promise<Record<string, Record<string, Service>>>;
    getState(entityId: string): Promise<State>;
    getStates(): Promise<State[]>;
    registerTrigger(trigger: SubscribeToTriggerMessage['trigger'], callback: (event: unknown) => void | Promise<void>): Promise<void>;
    subscribeToEvents(callback: (message: HomeAssistantEvent | TriggerEventMessage['event']) => void): Promise<void>;
    subscribeToEvents(type: string, callback: (message: HomeAssistantEvent | TriggerEventMessage['event']) => void): Promise<void>;
}

// @public
export const initialiseHass: ({ host, port, httpPath, websocketPath, token, logger, }: HassConfig) => Promise<IHomeAssistant>;

// @public
export interface LogBookEntry {
    context_user_id: string | null;
    domain: string;
    entity_id: string;
    message: string;
    name: string;
    when: string;
}

// @public
export type LogbookEntryEvent = BaseEvent<'logbook_entry', {
    name: string;
    message: string;
    domain?: string;
    entity_id?: string;
}>;

// @public
export interface Logger {
    debug: (message: string) => void;
    error: (message: string) => void;
    fatal: (message: string) => void;
    info: (message: string) => void;
    trace: (message: string) => void;
    warn: (message: string) => void;
}

// @public
export interface NumberSelector {
    number: {
        mode?: string;
        min: number;
        max: number;
        step: number;
        unit_of_measurement?: string;
    };
}

// @public
export interface ObjectSelector {
    object: null;
}

// @public
export interface Panel {
    component_name: string;
    config: {
        mode: string;
    } | null;
    config_panel_domain: string | null;
    icon: null | string;
    require_admin: boolean;
    title: null | string;
    url_path: string;
}

// @public
export type SceneReloadedEvent = BaseEvent<'scene_reloaded'>;

// @public
export type ScriptStartedEvent = BaseEvent<'sript_started', {
    name: string;
    entity_id: string;
}>;

// @public
export interface SelectSelector {
    options: string[];
    translation_key?: string;
}

// @public
export interface Service {
    description: string;
    fields: ServiceFields;
    name: string;
    response?: {
        optional: boolean;
    };
    target?: {
        entity?: EntityTarget[];
        device?: DeviceTarget[];
    };
}

// @public
export interface ServiceDomainDetails {
    domain: string;
    services: Record<string, Service>;
}

// @public
export interface ServiceField {
    advanced?: boolean;
    default?: string | boolean;
    description?: string;
    name: string;
    required?: boolean;
    selector?: NumberSelector | SelectSelector | TextSelector | BooleanSelector | DeviceSelector | TemplateSelector | ObjectSelector | TimeSelector | EntitySelector;
}

// @public
export type ServiceFields = Record<string, ServiceField>;

// @public
export type ServiceRegisteredEvent = BaseEvent<'service_registered', {
    domain: string;
    service: string;
}>;

// @public
export type ServiceRemovedEvent = BaseEvent<'service_removed', {
    domain: string;
    service: string;
}>;

// @public
export interface State {
    attributes: Record<string, unknown>;
    context: Context;
    entity_id: string;
    last_changed: string;
    last_reported: string;
    last_updated: string;
    state: string;
}

// @public
export type StateChangedEvent = BaseEvent<'state_changed', {
    entity_id: string;
    new_state: State;
    old_state: State;
}>;

// @public
export interface SubscribeToTriggerMessage extends Command {
    trigger: Record<string, unknown>;
    type: 'subscribe_trigger';
}

// @public
export interface TemplateSelector {
    template: null;
}

// @public
export interface TextSelector {
    text: null;
}

// @public
export type ThemesUpdatedEvent = BaseEvent<'themes_updated'>;

// @public
export interface TimeSelector {
    time: null;
}

// @public
export interface TriggerEventMessage<T = unknown> {
    event: {
        variables: {
            trigger: T;
        };
    };
    id: number;
    type: 'event';
}

// @public
export type UserAddedEvent = BaseEvent<'user_added', {
    user_id: string;
}>;

// @public
export type UserRemovedEvent = BaseEvent<'user_removed', {
    user_id: string;
}>;

// (No @packageDocumentation comment for this package)

```
